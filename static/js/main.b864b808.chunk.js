(this["webpackJsonppayoneer-weather-app"]=this["webpackJsonppayoneer-weather-app"]||[]).push([[0],{60:function(e,t,a){},61:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),i=a.n(c),o=(a(60),a(61),a(14)),s=a(29),h=a(103),l=a(107),d=a(40),u=a.n(d),j=a(46),f="GET_WEATHER_REQUEST",b="GET_WEATHER_SUCCESS",p="GET_WEATHER_FAILURE",O=a(106),w=a(109),m=a(102),g=a(108),v=a(2);function x(e){var t=e.selectedValue,a=e.handleRadioChange;return Object(v.jsx)(g.a,{component:"fieldset",children:Object(v.jsxs)(w.a,{row:!0,"aria-label":"position",name:"position",defaultValue:"Fahrenheit",children:[Object(v.jsx)(m.a,{value:"celsius",control:Object(v.jsx)(O.a,{color:"primary"}),label:"Celsius",checked:"celsius"===t,onChange:a}),Object(v.jsx)(m.a,{value:"Fahrenheit",control:Object(v.jsx)(O.a,{color:"primary"}),label:"Fahrenheit",checked:"Fahrenheit"===t,onChange:a})]})})}var y=a(42),C=a.n(y),S=Object(h.a)({container:{display:"flex",alignItems:"center",cursor:"pointer"},hideArrow:{display:"none"}});function F(e){var t=e.next,a=e.end,n=e.data,r=S();return Object(v.jsx)("div",{className:"".concat(r.container," ").concat(a===n.length?r.hideArrow:{}),onClick:function(){return t()},children:Object(v.jsx)(C.a,{style:{color:"rgb(66, 133, 244)",fontSize:"100px"}})})}function I(e){var t=e.prev,a=e.start,n=S();return Object(v.jsx)("div",{className:"".concat(n.container," ").concat(0===a?n.hideArrow:{}),onClick:function(){return t()},children:Object(v.jsx)(C.a,{style:{transform:"rotate(180deg)",color:"rgb(66, 133, 244)",fontSize:"100px"}})})}var T=Object(h.a)({container:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",fontSize:"1.25rem",width:"100%"}});var D=function(){var e=T();return Object(v.jsx)("div",{className:e.container,children:"loading...."})},E=a(28),L=a(104),N=a(105),k=a(79),R=function(e){return Math.round(5*(e-32)/9)},W=Object(h.a)({root:{width:"30%"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function A(e){var t=e.weather,a=e.scaleType,n=e.handleSetCurrentWeather,r=e.currentWeather,c=W(),i=(c.bullet,function(e){var t,a=0,n=Object(E.a)(e);try{for(n.s();!(t=n.n()).done;){a+=t.value.main.temp}}catch(r){n.e(r)}finally{n.f()}return Math.round(a/e.length)});return Object(v.jsx)(L.a,{className:c.root,onClick:function(){return n(t)},style:r.date===t.date?{border:"2px solid black"}:{},children:Object(v.jsxs)(N.a,{children:[Object(v.jsx)(k.a,{variant:"h5",component:"h2",children:"Temp:"}),Object(v.jsx)(k.a,{variant:"h5",component:"h2",children:"celsius"===a?"".concat(R(i(t.weatherSegments)),"C"):"".concat(i(t.weatherSegments),"F")}),Object(v.jsx)(k.a,{variant:"h5",component:"h2",children:"Date:"}),Object(v.jsx)(k.a,{variant:"h5",component:"h2",children:t&&function(e){var t=new Date(1e3*e),a=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),n=new Intl.DateTimeFormat("en",{month:"short"}).format(t),r=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t);return"".concat(r," ").concat(n," ").concat(a.slice(2))}(t.rawDate)}),Object(v.jsx)(k.a,{variant:"h5",component:"h2",children:"..."})]})})}var _=a(50),B=a(80),M=a(47),P=Object(h.a)((function(e){return Object(l.a)({paper:{padding:e.spacing(5)}})}));function z(e){var t=e.currentWeather,a=e.scaleType,r=n.useState([]),c=Object(o.a)(r,2),i=c[0],s=c[1],h=P();return n.useEffect((function(){var e=t.weatherSegments&&t.weatherSegments.map((function(e){return[new Date(e.dt).toLocaleTimeString(),"celsius"===a?"".concat(R(e.main.temp),"C"):"".concat(Math.round(e.main.temp),"F")]}));s(e)}),[t.date,a]),Object(v.jsx)(B.a,{className:h.paper,children:Object(v.jsx)(M.a,{width:"100%",height:"400px",chartType:"Bar",loader:Object(v.jsx)("div",{children:"Loading Chart"}),data:[["Time","temp"]].concat(Object(_.a)(i)),options:{legend:{position:"none"},axes:{y:{0:{side:"none"}}}},rootProps:{"data-testid":"2"}})})}var G=Object(h.a)((function(e){return Object(l.a)({cardsContainer:{display:"flex",justifyContent:"space-evenly",width:"100%",marginBottom:"10px"},graphsContainer:{width:"100%"},radioContainer:{display:"flex",width:"100%",height:"100px",justifyContent:"center",alignItems:"center"},arrowContaner:{display:"flex",width:"100%",justifyContent:"center",height:"100px"},arrowLeftContaner:{width:"40%"},arrowRightContaner:{width:"40%"}})}));function H(){var e=r.a.useState([]),t=Object(o.a)(e,2),a=t[0],n=t[1],c=r.a.useState(0),i=Object(o.a)(c,2),h=i[0],l=i[1],d=r.a.useState(3),O=Object(o.a)(d,2),w=O[0],m=O[1],g=r.a.useState("Fahrenheit"),y=Object(o.a)(g,2),C=y[0],S=y[1],T=r.a.useState([]),E=Object(o.a)(T,2),L=E[0],N=E[1],k=function(e){S(e.target.value)},R=G(),W=Object(s.b)(),_=Object(s.c)((function(e){return e}));r.a.useEffect((function(){W(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:f}),e.abrupt("return",fetch("http://api.openweathermap.org/data/2.5/forecast?q=Munich,de&APPID=75f972b80e26f14fe6c920aa6a85ad57&cnt=40").then((function(e){return e.json()})).then((function(e){return t({type:b,payload:e})})).catch((function(e){return t({type:p,payload:e})})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);r.a.useEffect((function(){if(_.weather.weatherInfo&&0!==_.weather.weatherInfo.length){var e=(t=_.weather.weatherInfo,a=3,r=1,t.slice((r-1)*a,r*a));n(e),P(e[0])}var t,a,r}),[_.weather.weatherInfo.length]);var B=function(){var e=w-1,t=h-1;if(t>=0){var a=_.weather.weatherInfo.slice(t,e);n(a),l(t),m(e)}},M=function(){var e=w+1,t=h+1;if(e<=_.weather.weatherInfo.length){var a=_.weather.weatherInfo.slice(t,e);n(a),l(t),m(e)}},P=function(e){N(e)};return _.weather.isFetching?Object(v.jsx)(D,{}):Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:R.radioContainer,children:Object(v.jsx)(x,{handleRadioChange:k,selectedValue:C})}),Object(v.jsxs)("div",{className:R.arrowContaner,children:[Object(v.jsx)("div",{className:R.arrowLeftContaner,children:Object(v.jsx)(I,{prev:B,start:h})}),Object(v.jsx)("div",{className:R.arrowRightContaner,children:Object(v.jsx)("div",{style:{float:"right"},children:Object(v.jsx)(F,{next:M,end:w,data:_.weather.weatherInfo})})})]}),Object(v.jsx)("div",{className:R.cardsContainer,children:a&&a.map((function(e){return Object(v.jsx)(A,{weather:e,currentWeather:L,scaleType:C,handleSetCurrentWeather:P},e.date)}))}),Object(v.jsx)("div",{className:R.graphsContainer,children:0!==L.length?Object(v.jsx)(z,{currentWeather:L,scaleType:C}):""})]})}a(73).config();var U=function(e){return Object(v.jsx)(H,{})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,111)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))},J=a(30),q=a(16),Q={weatherInfo:[],error:{},isFetching:!0},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(q.a)(Object(q.a)({},e),{},{isFetching:!0});case b:var a,n=[],r=[],c=Object(E.a)(t.payload.list);try{for(c.s();!(a=c.n()).done;){var i=a.value;if(r.includes(new Date(1e3*i.dt).toLocaleDateString())){var o,s=Object(E.a)(n);try{for(s.s();!(o=s.n()).done;){var h=o.value;h.date===new Date(1e3*i.dt).toLocaleDateString()&&h.weatherSegments.push(i)}}catch(l){s.e(l)}finally{s.f()}}else r.push(new Date(1e3*i.dt).toLocaleDateString()),n.push({date:new Date(1e3*i.dt).toLocaleDateString(),weatherSegments:[i],rawDate:i.dt})}}catch(l){c.e(l)}finally{c.f()}return Object(q.a)(Object(q.a)({},e),{},{weatherInfo:n,isFetching:!1});case p:return Object(q.a)(Object(q.a)({},e),{},{error:t.payload,isFetching:!1});default:return e}},X=Object(J.b)({weather:K}),Y=a(49),Z=Object(J.c)(X,Object(J.a)(Y.a));i.a.render(Object(v.jsx)(s.a,{store:Z,children:Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(U,{})})}),document.getElementById("root")),V()}},[[77,1,2]]]);
//# sourceMappingURL=main.b864b808.chunk.js.map